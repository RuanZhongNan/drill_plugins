//=============================================================================
// Drill_BattleBackground.js
//=============================================================================

/*:
 * @plugindesc [v1.2]        战斗 - 多层战斗背景
 * @author Drill_up
 *
 *
 * @param --背景组 1至20--
 * @default 
 *
 * @param 背景-1
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-2
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-3
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-4
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-5
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-6
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-7
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-8
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-9
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-10
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-11
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-12
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-13
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-14
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-15
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-16
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-17
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-18
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-19
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-20
 * @parent --背景组 1至20--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组21至40--
 * @default 
 *
 * @param 背景-21
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-22
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-23
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-24
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-25
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-26
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-27
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-28
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-29
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-30
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-31
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-32
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-33
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-34
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-35
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-36
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-37
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-38
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-39
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-40
 * @parent --背景组21至40--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组41至60--
 * @default 
 *
 * @param 背景-41
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-42
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-43
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-44
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-45
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-46
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-47
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-48
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-49
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-50
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-51
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-52
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-53
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-54
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-55
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-56
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-57
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-58
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-59
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-60
 * @parent --背景组41至60--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组61至80--
 * @default 
 *
 * @param 背景-61
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-62
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-63
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-64
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-65
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-66
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-67
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-68
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-69
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-70
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-71
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-72
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-73
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-74
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-75
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-76
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-77
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-78
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-79
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-80
 * @parent --背景组61至80--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组81至100--
 * @default 
 *
 * @param 背景-81
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-82
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-83
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-84
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-85
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-86
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-87
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-88
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-89
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-90
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-91
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-92
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-93
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-94
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-95
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-96
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-97
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-98
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-99
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-100
 * @parent --背景组81至100--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 *
 * @param --背景组101至120--
 * @default 
 *
 * @param 背景-101
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-102
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-103
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-104
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-105
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-106
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-107
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-108
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-109
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-110
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-111
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-112
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-113
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-114
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-115
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-116
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-117
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-118
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-119
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-120
 * @parent --背景组101至120--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组121至140--
 * @default 
 *
 * @param 背景-121
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-122
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-123
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-124
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-125
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-126
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-127
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-128
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-129
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-130
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-131
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-132
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-133
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-134
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-135
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-136
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-137
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-138
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-139
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-140
 * @parent --背景组121至140--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组141至160--
 * @default 
 *
 * @param 背景-141
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-142
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-143
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-144
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-145
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-146
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-147
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-148
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-149
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-150
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-151
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-152
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-153
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-154
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-155
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-156
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-157
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-158
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-159
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-160
 * @parent --背景组141至160--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组161至180--
 * @default 
 *
 * @param 背景-161
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-162
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-163
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-164
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-165
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-166
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-167
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-168
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-169
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-170
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-171
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-172
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-173
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-174
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-175
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-176
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-177
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-178
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-179
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-180
 * @parent --背景组161至180--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param --背景组181至200--
 * @default 
 *
 * @param 背景-181
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-182
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-183
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-184
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-185
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-186
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-187
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-188
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-189
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-190
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-191
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-192
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-193
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-194
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-195
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-196
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-197
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-198
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-199
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @param 背景-200
 * @parent --背景组181至200--
 * @desc 背景的图片资源。
 * @default 
 * @require 1
 * @dir img/Battle__layer/
 * @type file
 *
 * @help
 * =============================================================================
 * +++ Drill_BattleBackground +++
 * 作者：Drill_up
 * 如果你有兴趣，也可以来看看我的mog中文全翻译插件哦ヽ(*。>Д<)o゜
 * https://rpg.blue/thread-409713-1-1.html
 * =============================================================================
 * 你可以在战斗中放置一个或者多个战斗背景。
 * 要了解更详细的组合方法，去看看"多层组合背景,粒子,魔法圈,gif,视频.docx"。
 * 【支持插件关联资源的打包、加密】
 *
 * -----------------------------------------------------------------------------
 * ----设定注意事项
 * 1.插件的作用域：战斗界面。
 *   该插件不影响rmmv设置的两个背景图片，rmmv配置的背景将放在最底层。
 * 2.背景的图片层级将与GIF、魔法圈等相互控制。
 * 3.背景可以小于窗口大小，它们将经过循环平铺处理。
 * 4.如果要让背景看起来”很远”，那么应该设置位移比接近1.00的图层，
 *   越接近1.00越远。
 *
 * -----------------------------------------------------------------------------
 * ----关联文件
 * 资源路径：img/Battle__layer （Battle后面有两个下划线）
 * 先确保项目img文件夹下是否有Battle__layer文件夹！
 * 要查看所有关联资源文件的插件，可以去看看"插件清单.xlsx"。
 * 如果没有，需要自己建立。需要配置资源文件：
 *
 * 背景1 资源-背景
 * 背景2 资源-背景
 * 背景3 资源-背景
 * ……
 *
 * 所有素材都放在Battle__layer下，不分多余文件夹。
 *
 * -----------------------------------------------------------------------------
 * ----战斗层级
 * 你可以把战斗放在下面层级之间，对应关系为：
 *   rmmv底图 < rmmv背景 < 下层 < rmmv敌人/角色 < 上层
 *   < rmmv图片 < 图片层 < rmmv对话框 < 最顶层
 * 
 * 1.rmmv的层级是被固定的，你可以在 下层、上层、图片层、最顶层 添加背景。
 * 2.最顶层的背景，可以把战斗界面最高层的对话框、窗口也给挡住。
 * 3.处于同一战斗层级的背景、魔法圈等，根据 图片层级 先后排序。
 *
 * -----------------------------------------------------------------------------
 * ----激活条件
 * 你可以通过插件指令控制战斗背景的显示情况：
 * （7个基本参数，冒号两边有一个空格。）
 * 
 * 插件指令：>清空战斗背景
 * 插件指令：>创建战斗背景 : A : B : C : D : E : F : G
 *
 * 参数A：背景编号
 *        给背景分配的编号，如果重复编号的背景被创建，那么会被覆盖。
 * 参数B：资源文件名
 *        所有资源文件都在Battle__layer下配置，不需要.png后缀。
 * 参数C：图片层级
 *        在相同战斗层级下，先后排序的位置，0表示最后面。
 * 参数D：战斗层级
 *        所属的战斗层级，填入：下层、上层、图片层、最顶层。
 * 参数E：X速度
 *        按x轴方向循环移动的速度。正数向左，负数向右。（可为小数）
 * 参数F：Y速度
 *        按y轴方向循环移动的速度。正数向上，负数向下。（可为小数）
 * 参数G：位移比
 *        与镜头插件相关，背景与镜头移动位移的比例。
 *        设置1.00，背景和镜头的位移一致。设置0.00则背景不随镜头移动。
 *
 * 示例：
 * 插件指令：>清空战斗背景
 * 插件指令：>创建战斗背景 : 1 : 数字阵列 : 1 : 上层 : -1.0 : 1.0 : 0.60
 * 插件指令：>创建战斗背景 : 2 : F碎片 : 12 : 下层 : 0.93 : 0 : 0.00
 * （进入战斗前，最好先清空一下战斗背景，避免干扰）
 * （清空默认会包括清空背景、魔法圈、gif、视频，只要有一个清空指令就可以了。）
 *
 * -----------------------------------------------------------------------------
 * ----高级设置
 * 随着战斗的深入，战斗背景也可能会根据特殊情况变化：
 * 
 * 插件指令：>战斗背景 : A : 变坐标 : H : I : K1 : K2 
 * 插件指令：>战斗背景 : A : 变速度 : H : I : L1 : L2
 * 插件指令：>战斗背景 : A : 变透明 : H : I : M
 * 插件指令：>战斗背景 : A : 变混合模式 : H : N
 * （背景无法变缩放）
 * （背景无法变斜切）
 * （如果不是循环平移的背景，可以用不旋转的魔法圈代替。）
 *
 * 参数H：开始时间
 *        插件指令生效后，开始变化的延迟时间。单位帧。（1秒60帧）
 *        在战斗前设置90，表示进入战斗后，1.5秒时开始变化。
 *        在战斗时设置30，表示插件指令调用后0.5秒时开始变化。
 * 参数I：变化持续时间
 *        当前的属性，变化到设置的目标属性值的时间。
 * 参数K：xy坐标
 *        在指定时间内，移动到给定的x坐标和y坐标。
 *        （一般将没有速度的背景匀速移动到指定的位置）
 * 参数L：xy速度
 *        在指定时间内，变化到给定的x速度和y速度。
 * 参数M：透明度
 *        在指定时间内，变化到给定的透明度。
 * 参数N：混合模式
 *        混合模式为瞬间切换，0-普通,1-叠加。
 *        其他更详细相关介绍，去看看"pixi的渲染混合模式"。
 *
 * -----------------------------------------------------------------------------
 * ----更新日志
 * [v1.0]
 * 完成插件ヽ(*。>Д<)o゜
 * [v1.1]
 * 添加了图片层、最顶层的设置。
 * [v1.2]
 * 修改了插件关联的资源文件夹。
 *
 */
 
//<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
//		插件简称		BBa（Battle_Background）
//		临时全局变量	无
//		临时局部变量	this._drill_BBa_xxx
//		存储数据变量	$gameSystem._drill_BBa_xxx
//		全局存储变量	无
//		覆盖重写方法	无
//
//插件记录：
//		★大体框架与功能如下：
//			多层地图背景：
//				->显示隐藏
//				->地图层级、图片层级
//				->简单持续平移
//				->镜头位移比
//				->可修改的属性（时间）
//				->坐标、速度、透明、混合模式
//				x->色调、缩放、斜切
//
//			战斗界面全层级关系：
//				Spriteset： LowerLayer：	底图 < rmmv背景 < 下层 < rmmv敌人 < rmmv角色 < 上层
//							UpperLayer：	< rmmv图片 < (时间框层) < (闪烁幕布层) < 图片层
//											< MOG的ui层【_hudField】 < ui层【_drill_battle_ui_board】
//				AllWindows：WindowLayer：	< rmmv对话框 < rmmv滚动文章 < 最顶层【_drill_SenceTopArea】
//
//		★必要注意事项：
//			1.插件的图片层级与多个插件共享。【必须自写 层级排序 函数】
//			2.使用插件指令变化时，changing将会作为一个变化容器，根据时间对【sprite】进行改变。
//			3.直接Scene_Battle的update在战斗开始时【不执行】，目前不明原因。
//			
//		★其它说明细节：
//			1.原理非常简单，在Spriteset_Battle上面建立 菜单前面层和菜单后面层。
//			  然后通过插件指令添加TilingSprite菜单层就可以了。
//			  变化效果，通过建立计时器，实时对 变化(json串)进行扫描，变化 结束生命周期后自动销毁。
//			2.该插件不操作rmmv设置的两个背景图片。
//			3.TilingSprite没有sprite那么灵活，只能循环平移，嵌套、旋转、缩放 都不能做。
//
//		★存在的问题：
//			1.由于全部根据时间控制来锁定变化，修改/复用代码会比较麻烦。

//=============================================================================
// ** 变量获取
//=============================================================================
　　var Imported = Imported || {};
　　Imported.Drill_BattleBackground = true;
　　var DrillUp = DrillUp || {}; 
	DrillUp.parameters = PluginManager.parameters('Drill_BattleBackground');
	
	
//=============================================================================
// ** 资源文件夹
//=============================================================================
ImageManager.load_BattleLayer = function(filename) {
    return this.loadBitmap('img/Battle__layer/', filename, 0, true);
};
//=============================================================================
// * 插件指令
//=============================================================================
var _drill_BBa_pluginCommand = Game_Interpreter.prototype.pluginCommand;
Game_Interpreter.prototype.pluginCommand = function(command, args) {
	_drill_BBa_pluginCommand.call(this, command, args);
	
	if (command === '>创建战斗背景') { // >创建战斗背景 : 1 : B数字阵列 : 1 : 上层 : -1.0 : 1.0 : 0.60
		if(args.length == 14){
			var index = Number(args[1]);
			$gameSystem._drill_BBa_data[index] = {};								//背景id
			$gameSystem._drill_BBa_data[index]['src_img'] = String(args[3]);		//背景资源名
			$gameSystem._drill_BBa_data[index]['zIndex'] = Number(args[5]);		//背景图片层级
			$gameSystem._drill_BBa_data[index]['area_index'] = String(args[7]);	//背景战斗层级
			$gameSystem._drill_BBa_data[index]['x_speed'] = Number(args[9]);		//背景 X速度
			$gameSystem._drill_BBa_data[index]['y_speed'] = Number(args[11]);	//背景 Y速度
			$gameSystem._drill_BBa_data[index]['rate'] = Number(args[13]);		//背景位移比
		}
	}
	if (command === '>清空战斗背景') {
		$gameSystem._drill_BBa_data = [];
		$gameSystem._drill_BBa_changing = [];
		$gameSystem._drill_BCi_data = [];
		$gameSystem._drill_BCi_changing = [];
		$gameSystem._drill_BGi_data = [];
		$gameSystem._drill_BGi_changing = [];
		DrillUp.g_BVi_cur_filepath = "";
	}
	if (command === '>战斗背景') { // >战斗背景 : A : 变色调 : H : I : J1 : J2 : J3 : J4
		if(args.length >= 8){
			var changing = {};
			changing['destroy'] = false;
			changing['id'] = Number(args[1]);
			changing['type'] = String(args[3]);
			changing['start'] = Number(args[5]);
			changing['sustain'] = Number(args[7]);
			if( args[9] != undefined ){ changing['data1'] = Number(args[9]); }
			if( args[11] != undefined ){ changing['data2'] = Number(args[11]); }
			if( args[13] != undefined ){ changing['data3'] = Number(args[13]); }
			if( args[15] != undefined ){ changing['data4'] = Number(args[15]); }	
			if( SceneManager._scene.constructor.name === "Scene_Battle" ){		//区别战斗外，战斗中的开始时间
				changing['start'] = Number(args[5]) + ($gameSystem._drill_BBa_timer || 0);
			}
			$gameSystem._drill_BBa_changing.push(changing);
		}
	}
};
//==============================
// * 插件设置存储准备
//==============================
var _drill_BBa_sys_initialize = Game_System.prototype.initialize;
Game_System.prototype.initialize = function() {
	_drill_BBa_sys_initialize.call(this);
    this._drill_BBa_data = [];
    this._drill_BBa_changing = [];
    this._drill_BBa_timer = 0;
};

//=============================================================================
// ** 战斗层级
//=============================================================================
//==============================
// ** 下层
//==============================
var _drill_BBa_layer_createBattleback = Spriteset_Battle.prototype.createBattleback;
Spriteset_Battle.prototype.createBattleback = function() {    
	_drill_BBa_layer_createBattleback.call(this);
	if( !this._drill_battleDownArea ){
		this._drill_battleDownArea = new Sprite();
		this._battleField.addChild(this._drill_battleDownArea);	
	}
};
//==============================
// ** 上层
//==============================
var _drill_BBa_layer_createLowerLayer = Spriteset_Battle.prototype.createLowerLayer;
Spriteset_Battle.prototype.createLowerLayer = function() {
    _drill_BBa_layer_createLowerLayer.call(this);
	if( !this._drill_battleUpArea ){
		this._drill_battleUpArea = new Sprite();
		this._battleField.addChild(this._drill_battleUpArea);
	}
};
//==============================
// ** 图片层
//==============================
var _drill_BBa_layer_createPictures = Spriteset_Battle.prototype.createPictures;
Spriteset_Battle.prototype.createPictures = function() {
	_drill_BBa_layer_createPictures.call(this);		//rmmv图片 < 图片层 < rmmv对话框
	if( !this._drill_battlePicArea ){
		this._drill_battlePicArea = new Sprite();
		this.addChild(this._drill_battlePicArea);	
	}
}
//==============================
// ** 最顶层
//==============================
var _drill_BBa_layer_createAllWindows = Scene_Battle.prototype.createAllWindows;
Scene_Battle.prototype.createAllWindows = function() {
	_drill_BBa_layer_createAllWindows.call(this);	//rmmv对话框 < 最顶层
	if( !this._drill_SenceTopArea ){
		this._drill_SenceTopArea = new Sprite();
		this.addChild(this._drill_SenceTopArea);	
	}
}
//==============================
// ** 层级排序
//==============================
Scene_Battle.prototype.drill_BBa_sortByZIndex = function() {
	this._spriteset._drill_battleDownArea.children.sort(function(a, b){return a.zIndex-b.zIndex});	//比较器
	this._spriteset._drill_battleUpArea.children.sort(function(a, b){return a.zIndex-b.zIndex});
	this._spriteset._drill_battlePicArea.children.sort(function(a, b){return a.zIndex-b.zIndex});
	this._drill_SenceTopArea.children.sort(function(a, b){return a.zIndex-b.zIndex});
};

//=============================================================================
// ** 背景
//=============================================================================
//==============================
// * 创建背景
//==============================
var _drill_BBa_createDisplayObjects = Scene_Battle.prototype.createDisplayObjects;
Scene_Battle.prototype.createDisplayObjects = function() {
    _drill_BBa_createDisplayObjects.call(this);
	this.drill_BBa_create();
}
Scene_Battle.prototype.drill_BBa_create = function() {
	this._drill_BBa_sprite = [];		//数据初始化
	this._drill_BBa_sprite_data = [];
	$gameSystem._drill_BBa_timer = 0;
	
	for (var i = 0; i < $gameSystem._drill_BBa_data.length; i++) {
		if( $gameSystem._drill_BBa_data[i] != null ){
			var temp_sprite_data = JSON.parse(JSON.stringify( $gameSystem._drill_BBa_data[i] ));	//拷贝object（杜绝引用造成的修改）
			var temp_sprite = new TilingSprite(ImageManager.load_BattleLayer(temp_sprite_data['src_img']));	//TilingSprite平铺图层
			if( Imported.Drill_BattleCamera ){
				temp_sprite.move(
					(Graphics.width - $gameSystem._drill_cam_limit_width)/2, 
					(Graphics.height - $gameSystem._drill_cam_limit_height)/2, 
					$gameSystem._drill_cam_limit_width, 
					$gameSystem._drill_cam_limit_height
				);
			}else{
				temp_sprite.move(0, 0, Graphics.width, Graphics.height);
			}
			temp_sprite.origin.x = temp_sprite_data['x'] || 0;
			temp_sprite.origin.y = temp_sprite_data['y'] || 0;
			temp_sprite.opacity = temp_sprite_data['opacity'] || 255;
			temp_sprite.blendMode = temp_sprite_data['blendMode'] || 0;	//混合模式暂时不加
			temp_sprite.zIndex = temp_sprite_data['zIndex'];
			
			this._drill_BBa_sprite.push(temp_sprite);
			this._drill_BBa_sprite_data.push(temp_sprite_data);
			if( temp_sprite_data['area_index'] == '下层' ){
				this._spriteset._drill_battleDownArea.addChild(temp_sprite);
			}
			if( temp_sprite_data['area_index'] == '上层' ){
				this._spriteset._drill_battleUpArea.addChild(temp_sprite);
			}
			if( temp_sprite_data['area_index'] == '图片层' ){
				this._spriteset._drill_battlePicArea.addChild(temp_sprite);
			}
			if( temp_sprite_data['area_index'] == '最顶层' ){
				this._drill_SenceTopArea.addChild(temp_sprite);
			}
		}else{
			this._drill_BBa_sprite.push(null);
			this._drill_BBa_sprite_data.push(null);
		}
	}
	//alert( JSON.stringify( $gameSystem._drill_BBa_changing) );
	this.drill_BBa_sortByZIndex();
};

//==============================
// * 刷新背景
//==============================
var _drill_BBa_update = Spriteset_Battle.prototype.update;
Spriteset_Battle.prototype.update = function() {
	_drill_BBa_update.call(this);
	
	if( this.parent != undefined && this.parent.constructor.name == "Scene_Battle" ){	
		this.parent.drill_BBa_update();
	}
};
Scene_Battle.prototype.drill_BBa_update = function() {
	$gameSystem._drill_BBa_timer += 1;
	for (var i = 0; i < this._drill_BBa_sprite.length; i++) {
		if( this._drill_BBa_sprite[i] != null ){
			var temp_sprite_data = this._drill_BBa_sprite_data[i];
			var temp_sprite = this._drill_BBa_sprite[i];
			var b_timer = $gameSystem._drill_BBa_timer;
			//alert(JSON.stringify(temp_sprite_data));
			
			temp_sprite.origin.x += temp_sprite_data['x_speed'];
			temp_sprite.origin.y += temp_sprite_data['y_speed'];
			if( Imported.Drill_BattleCamera ){
				temp_sprite.origin.x += $gameTemp._drill_cam_result_move_X * temp_sprite_data['rate'];
				temp_sprite.origin.y += $gameTemp._drill_cam_result_move_Y * temp_sprite_data['rate'];
			}
			
			//变化-每帧开始
			for (var j = 0; j < $gameSystem._drill_BBa_changing.length; j++) {
				var t = $gameSystem._drill_BBa_changing[j];
				if( t['id'] == i ){
					
					if( t['type'] == '变坐标' ){
						if( b_timer > t['start'] && !t['cur_x'] ){		//1.变化 初始化
							t['cur_x'] = temp_sprite.origin.x;
							t['cur_y'] = temp_sprite.origin.y;
							t['c_x'] = ( t['data1'] - t['cur_x'])/ t['sustain'] ;
							t['c_y'] = ( t['data2'] - t['cur_y'])/ t['sustain'] ;
						}
						if( b_timer > t['start'] + t['sustain'] ){	//3.结束变化
							temp_sprite.origin.x = t['data1'];
							temp_sprite.origin.y = t['data2'];
							t['destroy'] = true;
						}else if( b_timer > t['start'] ){	//2.变化中
							var time = b_timer - t['start'];
							temp_sprite.origin.x = t['cur_x'] + t['c_x'] *time;
							temp_sprite.origin.y = t['cur_y'] + t['c_y'] *time;
						}
					}
					if( t['type'] == '变速度' ){
						if( b_timer > t['start'] && !t['cur_speed_x'] ){		//1.变化 初始化
							t['cur_speed_x'] = temp_sprite_data['x_speed'];
							t['cur_speed_y'] = temp_sprite_data['y_speed'];
							t['c_speed_x'] = ( t['data1'] - t['cur_speed_x'])/ t['sustain'] ;
							t['c_speed_y'] = ( t['data2'] - t['cur_speed_y'])/ t['sustain'] ;
						}
						if( b_timer > t['start'] + t['sustain'] ){	//3.结束变化
							temp_sprite_data['x_speed'] = t['data1'];
							temp_sprite_data['y_speed'] = t['data2'];
							t['destroy'] = true;
						}else if( b_timer > t['start'] ){	//2.变化中
							var time = b_timer - t['start'];
							temp_sprite_data['x_speed'] = t['cur_speed_x'] + t['c_speed_x'] *time;
							temp_sprite_data['y_speed'] = t['cur_speed_y'] + t['c_speed_y'] *time;
						}
					}
					if( t['type'] == '变透明' ){
						if( b_timer > t['start'] && !t['cur_opacity'] ){		//1.变化 初始化
							t['cur_opacity'] = temp_sprite.opacity;
							t['c_opacity'] = ( t['data1'] - t['cur_opacity'])/ t['sustain'] ;
						}
						if( b_timer > t['start'] + t['sustain'] ){	//3.结束变化
							temp_sprite.opacity = t['data1'];
							t['destroy'] = true;
						}else if( b_timer > t['start'] ){	//2.变化中
							var time = b_timer - t['start'];
							temp_sprite.opacity = Math.floor(t['cur_opacity'] + t['c_opacity'] *time);
						}
					}
					if( t['type'] == '变混合模式' ){
						if( b_timer > t['start'] ){		//直接变化
							temp_sprite.blendMode = t['sustain'];
							t['destroy'] = true;
						}
					}
				}
			}
			//4.变化-变化结束生命周期
			for(var k = $gameSystem._drill_BBa_changing.length -1 ; k >= 0 ; k--){
				var temp_changing = $gameSystem._drill_BBa_changing[k];
				if( temp_changing['destroy'] ){
					$gameSystem._drill_BBa_changing.splice(k, 1);
				}
			}
		}
	};
};


